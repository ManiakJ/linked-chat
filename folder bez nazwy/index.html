<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Połączony Czat z Twitch i YouTube</title>
</head>
<body>

<input type="text" id="twitchLink" placeholder="Link do Twitch">
<input type="text" id="youtubeLink" placeholder="Link do YouTube">
<button onclick="loadChats()">Załaduj Czaty</button>

<h2 class="tw">Twitch</h2>
<iframe id="twitchChat" src="" allowfullscreen></iframe>

<h2 class="yt">YouTube</h2>
<iframe id="youtubeChat" src="" allowfullscreen></iframe>

<script>
    function loadChats() {
        const twitchInput = document.getElementById('twitchLink').value;
        const youtubeInput = document.getElementById('youtubeLink').value;

        const twitchChatFrame = document.getElementById('twitchChat');
        const youtubeChatFrame = document.getElementById('youtubeChat');


        const twitchChannel = getTwitchChannel(twitchInput);
        if (twitchChannel) {
            twitchChatFrame.src = `https://www.twitch.tv/embed/${twitchChannel}/chat?parent=${window.location.hostname}&darkpopout`;
        } else {
            twitchChatFrame.src = "";
            alert("Nieprawidłowy link do Twitch");
        }


        const youtubeVideoId = getYouTubeVideoId(youtubeInput);
        if (youtubeVideoId) {
            youtubeChatFrame.src = `https://www.youtube.com/live_chat?v=${youtubeVideoId}&embed_domain=${window.location.hostname}`;
        } else {
            youtubeChatFrame.src = "";
            alert("Nieprawidłowy link do YouTube");
        }
    }

    function getTwitchChannel(url) {
        const match = url.match(/twitch\.tv\/(\w+)/);
        return match ? match[1] : null;
    }

    function getYouTubeVideoId(url) {
        const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/);
        return match ? match[1] : null;
    }
</script>

</body>
</html>



